/*! angular-firebase-cms 10-08-2015 */
function CmsClient(a){this.firebaseUrl=a}function CmsAdmin(a){this.serverUrl=a}var cmsClientModule=angular.module("cmsClient",[]);cmsClientModule.provider("cmsClient",[function(){var a=null;this.setContentUrl=function(b){a=b},this.$get=[function(){return new CmsClient(a)}]}]),cmsClientModule.run(["$cmsClient","$log",function(a,b){a.init().then(function(a){b.debug("CMS Content:",a)})}]),cmsClientModule.service("$cmsClient",["cmsClient","$q",function(a,b){function c(){var a=b.defer();return e(),d(g).then(function(b){f(),k.setContent(b.val()).then(function(){a.resolve(i)})})["catch"](function(b){f(),a.reject(b)}),a.promise}function d(a){var c=b.defer();return a.once("value",function(a){a.exists()?(k.setContent(a.val()),c.resolve(a)):c.reject("malformed data")},function(a){c.reject(a)}),c.promise}function e(){g||(g=new Firebase(a.firebaseUrl)),Firebase.goOnline()}function f(){j.autoDisconnect===!0&&(Firebase.goOffline(),g=null,Firebase.goOnline())}var g,h=b.defer(),i=h.promise,j={autoDisconnect:!0,bindContent:!1},k={init:function(){return c()},getContent:function(){return i},setContent:function(a){return h.resolve(a),i},autoDisconnect:function(a){j.autoDisconnect=a}};return k}]);var cmsAdminModule=angular.module("cmsAdmin",[]);cmsAdminModule.provider("cmsAdmin",[function(){var a=null;this.serverUrl=function(b){a=b},this.$get=[function(){return new CmsAdmin(a)}]}]),cmsAdminModule.service("$cmsAdmin",["cmsAdmin","$q","$http",function(a,b,c){function d(a){var d=b.defer();return c.post("/admin",a).then(function(a){a.status,a.data;d.resolve(a.data)},function(a){a.data||"Request failed",a.status;d.reject(a.status)}),d.promise}var e=function(a){return d({auth:a.auth,action:a.action,path:a.path,params:a.params})};return e}]);